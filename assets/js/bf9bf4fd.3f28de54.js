"use strict";(self.webpackChunkdistributed_systems=self.webpackChunkdistributed_systems||[]).push([[765],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>m});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},s=Object.keys(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var l=a.createContext({}),c=function(e){var t=a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},p=function(e){var t=c(e.components);return a.createElement(l.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},u=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,s=e.originalType,l=e.parentName,p=o(e,["components","mdxType","originalType","parentName"]),u=c(n),m=r,b=u["".concat(l,".").concat(m)]||u[m]||d[m]||s;return n?a.createElement(b,i(i({ref:t},p),{},{components:n})):a.createElement(b,i({ref:t},p))}));function m(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var s=n.length,i=new Array(s);i[0]=u;var o={};for(var l in t)hasOwnProperty.call(t,l)&&(o[l]=t[l]);o.originalType=e,o.mdxType="string"==typeof e?e:r,i[1]=o;for(var c=2;c<s;c++)i[c]=n[c];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}u.displayName="MDXCreateElement"},5647:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>d,frontMatter:()=>s,metadata:()=>o,toc:()=>c});var a=n(7462),r=(n(7294),n(3905));const s={},i="Lesson",o={unversionedId:"labs/Lab 9 - Microservices/Lesson",id:"labs/Lab 9 - Microservices/Lesson",title:"Lesson",description:"Table of Contents",source:"@site/docs/labs/09.Lab 9 - Microservices/Lesson.md",sourceDirName:"labs/09.Lab 9 - Microservices",slug:"/labs/Lab 9 - Microservices/Lesson",permalink:"/docs/labs/Lab 9 - Microservices/Lesson",draft:!1,tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Homework",permalink:"/docs/labs/Lab 9 - Microservices/Homework"},next:{title:"Lesson",permalink:"/docs/labs/Lab 10 - Docker/Lesson"}},l={},c=[{value:"<strong>Table of Contents</strong>",id:"table-of-contents",level:2},{value:"<strong>Dependency Injection</strong>",id:"dependency-injection",level:2},{value:"<strong>Microservices</strong>",id:"microservices",level:2},{value:"<strong>Entity Framework</strong>",id:"entity-framework",level:3},{value:"<strong>Business logic</strong>",id:"business-logic",level:3}],p={toc:c};function d(e){let{components:t,...n}=e;return(0,r.kt)("wrapper",(0,a.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"lesson"},"Lesson"),(0,r.kt)("h1",{id:"lab-9-microservices"},"Lab 9: Microservices"),(0,r.kt)("h2",{id:"table-of-contents"},(0,r.kt)("strong",{parentName:"h2"},"Table of Contents")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#lesson"},"Lesson")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#lab-9-microservices"},"Lab 9: Microservices"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#table-of-contents"},(0,r.kt)("strong",{parentName:"a"},"Table of Contents"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#dependency-injection"},(0,r.kt)("strong",{parentName:"a"},"Dependency Injection"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#microservices"},(0,r.kt)("strong",{parentName:"a"},"Microservices")),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#entity-framework"},(0,r.kt)("strong",{parentName:"a"},"Entity Framework"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#entity-framework"},(0,r.kt)("strong",{parentName:"a"},"Entity Framework")))))))),(0,r.kt)("h2",{id:"dependency-injection"},(0,r.kt)("strong",{parentName:"h2"},"Dependency Injection")),(0,r.kt)("p",null,"Dependency Injection (DI) is a software design pattern used to make programs more flexible, maintainable, and easier to test. In modern software development, especially in large applications, classes often depend on other classes to perform their work. These dependent objects are called dependencies."),(0,r.kt)("p",null,"Instead of creating these dependencies inside the class, Dependency Injection provides them from the outside. This simple idea improves code quality and follows good programming principles."),(0,r.kt)("p",null,"A dependency is any object that a class needs to function."),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-csharp"},"class StudentService\n{\n    private Database db;\n\n    public StudentService()\n    {\n        db = new Database();\n    }\n}\n")),(0,r.kt)("p",null,"StudentService depends on Database. Database is a dependency.\nThe problem is that StudentService creates its own Database.\nThis creates tight coupling."),(0,r.kt)("admonition",{type:"caution"},(0,r.kt)("mdxAdmonitionTitle",{parentName:"admonition"},(0,r.kt)("strong",{parentName:"mdxAdmonitionTitle"},"IMPORTANT")),(0,r.kt)("p",{parentName:"admonition"},"Dependency Injection means: Dependencies are provided to a class instead of being created inside the class.")),(0,r.kt)("p",null,"So instead of this:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-csharp"},"db = new Database();\n")),(0,r.kt)("p",null,"We do this:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-csharp"},"public StudentService(Database db)\n{\n    this.db = db;\n}\n")),(0,r.kt)("p",null,"Now the object is injected."),(0,r.kt)("p",null,"DI is achieved using interfaces. Injecting interface we inject dependency.\nA DI Container manages object creation. It: creates objects, resolves dependencies and manages lifetimes."),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-csharp"},"builder.Services.AddScoped<IEngine, ElectricEngine>();\n")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"ASP.NET")," framework provides developer built-in DI container in which developer can define custom services with one of three lifetime scopes:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Singleton:")," lifetime of service is through lifetime of application"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Scoped:")," lifetime of service is scope of one request, so for each request new service will be created"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Transient:")," each time service is requested, new instance is created")),(0,r.kt)("h2",{id:"microservices"},(0,r.kt)("strong",{parentName:"h2"},"Microservices")),(0,r.kt)("p",null,"Microservice architecture represents application divided into small functional parts. Each controller represents aggregate of CRUD methods (APIs) specific for each domain class. One API is divided into layers through Clean architecture. In controller API has route and do data transfer with user interface (frontend part of application) on top side and do data transfer with service on bottom side.\nNext stop to database is service. Service do business logic validation and do data transfer with repository. Repository is key layer in communication with database. It do data saving or fetching data from database. Respository has DbContext as dependency. Service has repository as dependency. And controller has service as dependency.\nRepository Pattern is a design pattern used to separate data access logic from business logic. It acts as a middle layer between Application and Database."),(0,r.kt)("h3",{id:"entity-framework"},(0,r.kt)("strong",{parentName:"h3"},"Entity Framework")),(0,r.kt)("p",null,"Entity Framework (EF) is an Object Relational Mapping (ORM) tool provided by Microsoft.\nIt allows developers to work with databases using C# classes instead of writing SQL queries."),(0,r.kt)("p",null,"In simple words: EF lets you communicate to the database using C# code.\nDbContext is used as reference to database. In DbContext we have DbSet propeeties with main classes. So that each DbSet property represents database table. So in C# EF syntax we use context.{TableName}.{OperationName}."),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-csharp"},"context.Students.Add(student);\ncontext.SaveChanges();\n\nvar students = context.Students.ToList();\n")),(0,r.kt)("p",null,"EF works with extension methods (LINQ methods). Some of them are: .Where(), .Select(), .OrderBy(), .FirstOrDefault()."),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-csharp"},"var names = students\n           .Where(s => s.Marks > 50)\n           .Select(s => s.Name)\n           .ToList();\n")),(0,r.kt)("h3",{id:"business-logic"},(0,r.kt)("strong",{parentName:"h3"},"Business logic")),(0,r.kt)("p",null,"The Service Layer is responsible for: handling business logic, performing validation, coordinating between controller and repository."),(0,r.kt)("p",null,"Controller \u2192 Service \u2192 Repository \u2192 Database"),(0,r.kt)("p",null,"Business logic means: Rules that define how the system should work based on real-world requirements. Each domain has its own business rules."),(0,r.kt)("p",null,"Examples:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Student age must be \u2265 18"),(0,r.kt)("li",{parentName:"ul"},"Bank withdrawal cannot exceed balance"),(0,r.kt)("li",{parentName:"ul"},"Email must be unique"),(0,r.kt)("li",{parentName:"ul"},"Order quantity cannot be negative")))}d.isMDXComponent=!0}}]);