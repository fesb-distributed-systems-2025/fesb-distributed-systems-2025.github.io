"use strict";(self.webpackChunkdistributed_systems=self.webpackChunkdistributed_systems||[]).push([[21],{3905:(e,n,t)=>{t.d(n,{Zo:()=>p,kt:()=>d});var a=t(7294);function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function s(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function o(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?s(Object(t),!0).forEach((function(n){r(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):s(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function i(e,n){if(null==e)return{};var t,a,r=function(e,n){if(null==e)return{};var t,a,r={},s=Object.keys(e);for(a=0;a<s.length;a++)t=s[a],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)t=s[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var l=a.createContext({}),c=function(e){var n=a.useContext(l),t=n;return e&&(t="function"==typeof e?e(n):o(o({},n),e)),t},p=function(e){var n=c(e.components);return a.createElement(l.Provider,{value:n},e.children)},u={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},k=a.forwardRef((function(e,n){var t=e.components,r=e.mdxType,s=e.originalType,l=e.parentName,p=i(e,["components","mdxType","originalType","parentName"]),k=c(t),d=r,b=k["".concat(l,".").concat(d)]||k[d]||u[d]||s;return t?a.createElement(b,o(o({ref:n},p),{},{components:t})):a.createElement(b,o({ref:n},p))}));function d(e,n){var t=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var s=t.length,o=new Array(s);o[0]=k;var i={};for(var l in n)hasOwnProperty.call(n,l)&&(i[l]=n[l]);i.originalType=e,i.mdxType="string"==typeof e?e:r,o[1]=i;for(var c=2;c<s;c++)o[c]=t[c];return a.createElement.apply(null,o)}return a.createElement.apply(null,t)}k.displayName="MDXCreateElement"},1148:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>u,frontMatter:()=>s,metadata:()=>i,toc:()=>c});var a=t(7462),r=(t(7294),t(3905));const s={},o="Lesson",i={unversionedId:"labs/Lab 8 - Web Sockets/Lesson",id:"labs/Lab 8 - Web Sockets/Lesson",title:"Lesson",description:"Table of Contents",source:"@site/docs/labs/08.Lab 8 - Web Sockets/Lesson.md",sourceDirName:"labs/08.Lab 8 - Web Sockets",slug:"/labs/Lab 8 - Web Sockets/Lesson",permalink:"/docs/labs/Lab 8 - Web Sockets/Lesson",draft:!1,tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Lesson",permalink:"/docs/labs/Lab 7 - Docker/Lesson"},next:{title:"Distributed Information Systems",permalink:"/docs/notes/"}},l={},c=[{value:"<strong>Table of Contents</strong>",id:"table-of-contents",level:2},{value:"<strong>Requirements</strong>",id:"requirements",level:3},{value:"<strong>Objectives</strong>",id:"objectives",level:3},{value:"<strong>Web Sockets</strong>",id:"web-sockets",level:3},{value:"<strong>Exercise 1: Creating WebSocket Server</strong>",id:"exercise-1-creating-websocket-server",level:2},{value:"<strong>Create Project And Solution</strong>",id:"create-project-and-solution",level:3},{value:"<strong>Exercise 2: Creating WebSocket Client</strong>",id:"exercise-2-creating-websocket-client",level:2},{value:"<strong>Exercise 3: Test Solution</strong>",id:"exercise-3-test-solution",level:2}],p={toc:c};function u(e){let{components:n,...s}=e;return(0,r.kt)("wrapper",(0,a.Z)({},p,s,{components:n,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"lesson"},"Lesson"),(0,r.kt)("h1",{id:"lab-8-web-sockets"},"Lab 8: Web Sockets"),(0,r.kt)("h2",{id:"table-of-contents"},(0,r.kt)("strong",{parentName:"h2"},"Table of Contents")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#lesson"},"Lesson")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#lab-8-web-sockets"},"Lab 8: Web Sockets"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#table-of-contents"},(0,r.kt)("strong",{parentName:"a"},"Table of Contents")),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#requirements"},(0,r.kt)("strong",{parentName:"a"},"Requirements"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#objectives"},(0,r.kt)("strong",{parentName:"a"},"Objectives"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#web-sockets"},(0,r.kt)("strong",{parentName:"a"},"Web Sockets"))))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#exercise-1-creating-websocket-server"},(0,r.kt)("strong",{parentName:"a"},"Exercise 1: Creating WebSocket Server")),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#create-project-and-solution"},(0,r.kt)("strong",{parentName:"a"},"Create Project And Solution"))))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#exercise-2-creating-websocket-client"},(0,r.kt)("strong",{parentName:"a"},"Exercise 2: Creating WebSocket Client"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#exercise-3-test-solution"},(0,r.kt)("strong",{parentName:"a"},"Exercise 3: Test Solution")))))),(0,r.kt)("h3",{id:"requirements"},(0,r.kt)("strong",{parentName:"h3"},"Requirements")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://dotnet.microsoft.com/en-us/download"},".NET 7 SDK"))),(0,r.kt)("h3",{id:"objectives"},(0,r.kt)("strong",{parentName:"h3"},"Objectives")),(0,r.kt)("p",null,"In this LAB you will learn about duplex communication on web using web sockets."),(0,r.kt)("h3",{id:"web-sockets"},(0,r.kt)("strong",{parentName:"h3"},"Web Sockets")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"WebSocket")," is a standard protocol that enables a web browser or client application, and a web server application to use a full-duplex connection to communicate."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"HTTP")," is not designed for long-lived, real-time, ",(0,r.kt)("strong",{parentName:"p"},"full duplex")," communication between two applications.\nIn many instances, your web server application or servlet wants to communicate with a client browser or application in a long-lived, real-time, full duplex conversation.\nThe two applications want to freely read and write data back and forth.\nAn example is an application that constantly displays changing currency exchange rates on the web browser of a stock trader.\nCurrent ",(0,r.kt)("strong",{parentName:"p"},"HTTP")," technical solutions for this type of communication are cumbersome and inefficient.\n",(0,r.kt)("strong",{parentName:"p"},"HTTP")," solutions for constant two-way communication between a browser and a server mostly consists of either polling or two open ",(0,r.kt)("strong",{parentName:"p"},"HTTP")," connections that handle one-way traffic only, or both."),(0,r.kt)("h2",{id:"exercise-1-creating-websocket-server"},(0,r.kt)("strong",{parentName:"h2"},"Exercise 1: Creating WebSocket Server")),(0,r.kt)("h3",{id:"create-project-and-solution"},(0,r.kt)("strong",{parentName:"h3"},"Create Project And Solution")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Create Solution ",(0,r.kt)("inlineCode",{parentName:"li"},"WebSockets")," and blazor web assembly ASP.NET Core Hosted project ",(0,r.kt)("inlineCode",{parentName:"li"},"WebSockets.Server"))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sh"},"dotnet new sln --name WebSockets\ndotnet new blazorwasm --name WebSockets --hosted\ndotnet sln add WebSockets/Server/WebSockets.Server.csproj\ndotnet sln add WebSockets/Client/WebSockets.Client.csproj\ndotnet sln add WebSockets/Shared/WebSockets.Shared.csproj\n")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"In project ",(0,r.kt)("inlineCode",{parentName:"p"},"WebSockets.Server")," delete ",(0,r.kt)("inlineCode",{parentName:"p"},"Controllers/WeatherForecastController.cs"),":")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"In project ",(0,r.kt)("inlineCode",{parentName:"p"},"WebSockets.Shared")," delete ",(0,r.kt)("inlineCode",{parentName:"p"},"WeatherForecast.cs"),":")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"In project ",(0,r.kt)("inlineCode",{parentName:"p"},"WebSockets.Client")," delete ",(0,r.kt)("inlineCode",{parentName:"p"},"Pages/FetchData.cs"),":")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"In project ",(0,r.kt)("inlineCode",{parentName:"p"},"WebSockets.Server")," Modify class ",(0,r.kt)("inlineCode",{parentName:"p"},"Program.cs")," to look as following:"))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-csharp"},'// Program.cs\n//\n// \xa9 2023 FESB in cooperation with Zoraja Consulting. All rights reserved.\nusing WebSockets.Server.Services;\n\nvar builder = WebApplication.CreateBuilder(args);\n\n// Add services to the container.\nbuilder.Services.AddControllersWithViews();\nbuilder.Services.AddRazorPages();\n\nbuilder.Services.AddSingleton<ServerChatService>();\n\nvar app = builder.Build();\n\nif (app.Environment.IsDevelopment())\n{\n    app.UseWebAssemblyDebugging();\n}\n\napp.UseBlazorFrameworkFiles();\napp.UseStaticFiles();\n\napp.UseRouting();\n\napp.MapRazorPages();\napp.MapControllers();\napp.UseWebSockets();\napp.MapFallbackToFile("index.html");\n\napp.Run();\n\n')),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"In project ",(0,r.kt)("inlineCode",{parentName:"li"},"WebSockets.Server")," add new service ",(0,r.kt)("inlineCode",{parentName:"li"},"Services/ServerChatService.cs")," with following implementation:")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-csharp"},"using System.Net.WebSockets;\nusing System.Text;\n\nnamespace WebSockets.Server.Services;\n\npublic class ServerChatService\n{\n    private readonly IDictionary<string, IList<WebSocket>> _groupedSockets = new Dictionary<string, IList<WebSocket>>();\n\n    public async Task StartListening(WebSocket webSocket)\n    {\n        var groupId = await AssignWebSocketToGroup(webSocket);\n        await DistributeGroupMessages(groupId, webSocket);\n    }\n\n    private async Task<string> AssignWebSocketToGroup(WebSocket webSocket)\n    {\n        var buffer = new byte[1024 * 4];\n\n        var receiveResult = await webSocket.ReceiveAsync(\n                new ArraySegment<byte>(buffer), CancellationToken.None);\n\n        var receivedData = new ArraySegment<byte>(buffer, 0, receiveResult.Count);\n        var groupId = Encoding.UTF8.GetString(receivedData);\n\n        if (_groupedSockets.TryGetValue(groupId, out var existingSockets))\n        {\n            existingSockets.Add(webSocket);\n        }\n        else\n        {\n            _groupedSockets[groupId] = new List<WebSocket> { webSocket };\n        }\n\n        return groupId;\n    }\n\n    private async Task DistributeGroupMessages(string groupId, WebSocket webSocket)\n    {\n        var buffer = new byte[1024 * 4];\n\n        var receiveResult = await webSocket.ReceiveAsync(\n            new ArraySegment<byte>(buffer), CancellationToken.None);\n\n        while (!receiveResult.CloseStatus.HasValue)\n        {\n            var webSocketGroup = _groupedSockets[groupId];\n\n            foreach (var groupWebSocket in webSocketGroup)\n            {\n                await groupWebSocket.SendAsync(\n                    buffer: new ArraySegment<byte>(buffer, 0, receiveResult.Count),\n                    messageType: receiveResult.MessageType,\n                    endOfMessage: receiveResult.EndOfMessage,\n                    cancellationToken: CancellationToken.None);\n            }\n\n            receiveResult = await webSocket.ReceiveAsync(\n                buffer: new ArraySegment<byte>(buffer),\n                cancellationToken: CancellationToken.None);\n        }\n\n        await webSocket.CloseAsync(\n            closeStatus: receiveResult.CloseStatus.Value,\n            statusDescription: receiveResult.CloseStatusDescription,\n            cancellationToken: CancellationToken.None);\n\n        _groupedSockets[groupId].Remove(webSocket);\n    }\n}\n\n")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"In project ",(0,r.kt)("inlineCode",{parentName:"li"},"WebSockets.Server")," add new controller ",(0,r.kt)("inlineCode",{parentName:"li"},"Controllers/WebSocketsController.cs")," with following implementation:")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-csharp"},'using Microsoft.AspNetCore.Mvc;\nusing WebSockets.Server.Services;\n\nnamespace WebSockets.Server.Controllers;\n\npublic class WebSocketController : ControllerBase\n{\n    private readonly ServerChatService _serverChatService;\n\n    public WebSocketController(ServerChatService serverChatService)\n    {\n        _serverChatService = serverChatService;\n    }\n\n    [Route("/ws")]\n    public async Task Get()\n    {\n        if (HttpContext.WebSockets.IsWebSocketRequest)\n        {\n            using var webSocket = await HttpContext.WebSockets.AcceptWebSocketAsync();\n            await _serverChatService.StartListening(webSocket);\n        }\n        else\n        {\n            HttpContext.Response.StatusCode = StatusCodes.Status400BadRequest;\n        }\n    }\n}\n')),(0,r.kt)("h2",{id:"exercise-2-creating-websocket-client"},(0,r.kt)("strong",{parentName:"h2"},"Exercise 2: Creating WebSocket Client")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"In project ",(0,r.kt)("inlineCode",{parentName:"li"},"WebSockets.Client")," modify file ",(0,r.kt)("inlineCode",{parentName:"li"},"Shared/NavMenu.razor")," to look as following:")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-html"},'<div class="top-row ps-3 navbar navbar-dark">\n    <div class="container-fluid">\n        <a class="navbar-brand" href="">WebSockets</a>\n        <button title="Navigation menu" class="navbar-toggler" @onclick="ToggleNavMenu">\n            <span class="navbar-toggler-icon"></span>\n        </button>\n    </div>\n</div>\n\n<div class="@NavMenuCssClass nav-scrollable" @onclick="ToggleNavMenu">\n    <nav class="flex-column">\n        <div class="nav-item px-3">\n            <NavLink class="nav-link" href="" Match="NavLinkMatch.All">\n                <span class="oi oi-home" aria-hidden="true"></span> Home\n            </NavLink>\n        </div>\n        <div class="nav-item px-3">\n            <NavLink class="nav-link" href="counter">\n                <span class="oi oi-plus" aria-hidden="true"></span> Counter\n            </NavLink>\n        </div>\n    </nav>\n</div>\n\n@code {\n    private bool collapseNavMenu = true;\n\n    private string? NavMenuCssClass => collapseNavMenu ? "collapse" : null;\n\n    private void ToggleNavMenu()\n    {\n        collapseNavMenu = !collapseNavMenu;\n    }\n}\n')),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"In project ",(0,r.kt)("inlineCode",{parentName:"li"},"WebSockets.Client")," modify file ",(0,r.kt)("inlineCode",{parentName:"li"},"Program.cs")," to look as following:")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-csharp"},'using System.Net.WebSockets;\nusing Microsoft.AspNetCore.Components.Web;\nusing Microsoft.AspNetCore.Components.WebAssembly.Hosting;\nusing WebSockets.Client;\nusing WebSockets.Client.Services;\n\nvar builder = WebAssemblyHostBuilder.CreateDefault(args);\nbuilder.RootComponents.Add<App>("#app");\nbuilder.RootComponents.Add<HeadOutlet>("head::after");\n\nbuilder.Services.AddScoped(sp => new HttpClient { BaseAddress = new Uri(builder.HostEnvironment.BaseAddress) });\nbuilder.Services.AddTransient<ClientChatService>();\n\nawait builder.Build().RunAsync();\n')),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"In project ",(0,r.kt)("inlineCode",{parentName:"li"},"WebSockets.Client")," create file ",(0,r.kt)("inlineCode",{parentName:"li"},"Services/ClientChatService.cs")," to look as following:")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-csharp"},'using System.Net.WebSockets;\nusing System.Runtime.CompilerServices;\nusing System.Text;\nusing Microsoft.AspNetCore.Components;\n\nnamespace WebSockets.Client.Services;\n\npublic class ClientChatService : IDisposable\n{\n    private readonly ClientWebSocket _websocket;\n    private readonly Uri _websocketUrl;\n    private bool _disposedValue;\n\n    public ClientChatService(NavigationManager navigationManager)\n    {\n        _websocket = new ClientWebSocket();\n        _websocketUrl = new Uri(navigationManager.BaseUri.ToString().Replace("http", "ws") + "ws");\n    }\n\n    public async Task ConnectAsync(string groupId, CancellationToken cancellationToken)\n    {\n        await _websocket.ConnectAsync(_websocketUrl, cancellationToken);\n\n        await SendStringAsync(groupId, cancellationToken);\n    }\n\n    public async IAsyncEnumerable<string> ListenForMessages([EnumeratorCancellation] CancellationToken cancellationToken)\n    {\n        var buffer = new ArraySegment<byte>(new byte[2048]);\n\n        while (!cancellationToken.IsCancellationRequested)\n        {\n            WebSocketReceiveResult receivedResult;\n            using var ms = new MemoryStream();\n            do\n            {\n                receivedResult = await _websocket.ReceiveAsync(buffer, cancellationToken);\n                ms.Write(buffer.Array!, buffer.Offset, receivedResult.Count);\n            } while (!receivedResult.EndOfMessage);\n\n            _ = ms.Seek(0, SeekOrigin.Begin);\n\n            yield return Encoding.UTF8.GetString(ms.ToArray());\n\n            if (receivedResult.MessageType == WebSocketMessageType.Close)\n            {\n                break;\n            }\n        }\n    }\n\n    public Task SendStringAsync(string data, CancellationToken cancellation)\n    {\n        var encoded = Encoding.UTF8.GetBytes(data);\n        var buffer = new ArraySegment<byte>(encoded, 0, encoded.Length);\n\n        return _websocket.SendAsync(\n            buffer: buffer,\n            messageType: WebSocketMessageType.Text,\n            endOfMessage: true,\n            cancellationToken: cancellation);\n    }\n\n    protected virtual void Dispose(bool disposing)\n    {\n        if (!_disposedValue)\n        {\n            if (disposing)\n            {\n                _websocket.Dispose();\n            }\n\n            _disposedValue = true;\n        }\n    }\n\n    public void Dispose()\n    {\n        Dispose(disposing: true);\n        GC.SuppressFinalize(this);\n    }\n}\n\n')),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"In project ",(0,r.kt)("inlineCode",{parentName:"li"},"WebSockets.Client")," create file ",(0,r.kt)("inlineCode",{parentName:"li"},"Pages/IndexBase.cs")," to look as following:")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-csharp"},"// IndexBase.cs\n//\n// \xa9 2023 FESB in cooperation with Zoraja Consulting. All rights reserved.\n\nusing Microsoft.AspNetCore.Components;\nusing WebSockets.Client.Services;\n\nnamespace WebSockets.Client.Pages;\n\npublic class IndexBase : ComponentBase\n{\n    [Inject]\n    public ClientChatService ClientChatService { get; init; } = null!;\n\n    protected IList<string> ReceivedMessages { get; } = new List<string>();\n\n    protected string NewMessageValue { get; set; } = string.Empty;\n    protected string RoomId { get; set; } = string.Empty;\n\n    protected async Task ConnectToRoom()\n    {\n        await ClientChatService.ConnectAsync(RoomId, default);\n\n        _ = Task.Run(ReceiveMessages);\n    }\n\n    protected async Task SendNewMessage()\n    {\n        await ClientChatService.SendStringAsync(NewMessageValue, default);\n\n        NewMessageValue = string.Empty;\n    }\n\n    private async Task ReceiveMessages()\n    {\n        var incomingMessages = ClientChatService.ListenForMessages(default);\n\n        await foreach (var message in incomingMessages)\n        {\n            ReceivedMessages.Add(message);\n            StateHasChanged();\n        }\n    }\n}\n")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"In project ",(0,r.kt)("inlineCode",{parentName:"li"},"WebSockets.Client")," modify file ",(0,r.kt)("inlineCode",{parentName:"li"},"Pages/Index.razor")," to look as following:")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-html"},'@page "/"\n@inherits IndexBase\n\n<PageTitle>Messages</PageTitle>\n\n<h3>Chose Room</h3>\n<input @bind-value="@RoomId" />\n<button onclick="@ConnectToRoom">Connect</button>\n\n<h3>Send message</h3>\n\n<input @bind-value="@NewMessageValue" />\n<button onclick="@SendNewMessage">Send Message</button>\n\n<h3>Messages</h3>\n\n@foreach (var message in ReceivedMessages)\n\n{\n    <p>@message</p>\n\n}\n')),(0,r.kt)("h2",{id:"exercise-3-test-solution"},(0,r.kt)("strong",{parentName:"h2"},"Exercise 3: Test Solution")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"run project:")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sh"},"dotnet run --project WebSockets/Server/WebSockets.Server.csproj\n")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"open two tabs, and connect to same room")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"try sending messages and observe results"))),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"web-sockets-results",src:t(7774).Z,width:"1891",height:"972"})))}u.isMDXComponent=!0},7774:(e,n,t)=>{t.d(n,{Z:()=>a});const a=t.p+"assets/images/web-sockets-result-f9142506bb504db3bc861cdb5c19d237.jpg"}}]);